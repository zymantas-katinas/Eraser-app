{"ast":null,"code":"var _jsxFileName = \"/Users/zymka/Desktop/web projects/react playground/my-app/src/components/Canvas.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nexport default function Canvas(props) {\n  const [drawing, setDrawing] = useState(false);\n  const [restart, setRestart] = useState(true);\n  const canvasRef = useRef();\n  const ctx = useRef(); // const converted = useRef()\n\n  useEffect(() => {\n    ctx.current = canvasRef.current.getContext('2d');\n    setDrawing(() => true);\n  }, []);\n  useEffect(() => {\n    console.log('s');\n    ctx.current.fillStyle = \"black\";\n    ctx.current.fillRect(0, 0, 415, 415);\n  }, [drawing]); // Reset if reset/start is clicked in parent.\n\n  useEffect(() => {\n    handleClear();\n\n    if (props.ifStart === \"reset\") {\n      setDrawing(true);\n    } else {\n      setDrawing(false);\n    }\n  }, [props.ifStart]); // Stop when time is 0\n\n  useEffect(() => {\n    if (props.ifFinished) {\n      setDrawing(false);\n    }\n  }, [props.ifFinished]); // draw when moving mouse if draw = true\n\n  function handleMouseMove(e) {\n    const coords = [e.clientX - canvasRef.current.offsetLeft, e.pageY - canvasRef.current.offsetTop];\n    ctx.current.lineTo(...coords);\n    ctx.current.stroke();\n  }\n\n  function startDrawing(e) {\n    ctx.current.lineJoin = 'round';\n    ctx.current.lineCap = 'round';\n    ctx.current.lineWidth = 20; // ctx.current.strokeStyle = \"#3AAFA9\"\n\n    ctx.current.strokeStyle = \"white\";\n    ctx.current.beginPath(); // actual coordinates\n\n    ctx.current.moveTo(e.clientX - canvasRef.current.offsetLeft, e.pageY - canvasRef.current.offsetTop);\n  } //clear\n\n\n  function handleClear() {\n    ctx.current.clearRect(0, 0, 415, 415);\n  } //stop\n\n\n  function stopDrawing() {\n    ctx.current.closePath();\n  } // download\n  // function download(){\n  //   const dataURI = canvasRef.current.toDataURL();\n  //   console.log(dataURI)\n  //   converted.current.src = dataURI\n  // }\n\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"canvas\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"canvas\", {\n    ref: canvasRef,\n    width: 415,\n    height: 415,\n    onMouseOver: startDrawing,\n    onMouseOut: stopDrawing,\n    onMouseMove: handleMouseMove,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/zymka/Desktop/web projects/react playground/my-app/src/components/Canvas.js"],"names":["React","useState","useEffect","useRef","Canvas","props","drawing","setDrawing","restart","setRestart","canvasRef","ctx","current","getContext","console","log","fillStyle","fillRect","handleClear","ifStart","ifFinished","handleMouseMove","e","coords","clientX","offsetLeft","pageY","offsetTop","lineTo","stroke","startDrawing","lineJoin","lineCap","lineWidth","strokeStyle","beginPath","moveTo","clearRect","stopDrawing","closePath"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\n\nexport default function Canvas(props) {\n  const [drawing, setDrawing] = useState(false)\n  const [restart, setRestart] = useState(true)\n  \n  const canvasRef = useRef()\n  const ctx = useRef()\n  // const converted = useRef()\n  \n  useEffect(() => {\n    ctx.current = canvasRef.current.getContext('2d')\n    setDrawing(() => true)\n  },[])\n\n  useEffect(() => {\n    console.log('s')\n    ctx.current.fillStyle = \"black\"\n    ctx.current.fillRect(0, 0, 415, 415)\n  }, [drawing])\n\n  // Reset if reset/start is clicked in parent.\n  useEffect(() => {\n    handleClear()\n    if(props.ifStart === \"reset\"){\n      setDrawing(true)\n    } else {\n      setDrawing(false)\n    }\n  }, [props.ifStart])\n\n  // Stop when time is 0\n  useEffect(() => {\n    if(props.ifFinished){\n      setDrawing(false)\n    } \n  }, [props.ifFinished])\n\n\n  // draw when moving mouse if draw = true\n  function handleMouseMove(e) {\n    const coords = [\n      e.clientX - canvasRef.current.offsetLeft,\n      e.pageY - canvasRef.current.offsetTop\n    ]\n      ctx.current.lineTo(...coords)\n      ctx.current.stroke()\n  }\n\n  function startDrawing(e) {\n    ctx.current.lineJoin = 'round'\n    ctx.current.lineCap = 'round'\n    ctx.current.lineWidth = 20\n    // ctx.current.strokeStyle = \"#3AAFA9\"\n    ctx.current.strokeStyle = \"white\"\n    ctx.current.beginPath();\n    // actual coordinates\n    ctx.current.moveTo(\n      e.clientX - canvasRef.current.offsetLeft,\n      e.pageY - canvasRef.current.offsetTop\n    )\n  }\n\n   //clear\n  function handleClear() {\n    ctx.current.clearRect(0, 0, 415, 415)\n  }\n\n  //stop\n  function stopDrawing() {\n    ctx.current.closePath()\n  }\n\n  // download\n  // function download(){\n  //   const dataURI = canvasRef.current.toDataURL();\n  //   console.log(dataURI)\n  //   converted.current.src = dataURI\n  // }\n\n  return (\n    <div>\n      {/* <button onClick ={download}> download </button> */}\n      {/* <div className =\"canvas\"> <img ref={converted} src=\"\" /></div> */}\n      <div className =\"canvas\">\n        <canvas\n        ref={canvasRef}\n        width={415}\n        height={415}\n        onMouseOver={startDrawing}\n        onMouseOut={stopDrawing}\n        onMouseMove={handleMouseMove}\n        />\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}